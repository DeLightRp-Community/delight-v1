import{_ as y,A as u,g,p as F,a as O,r as i,o as n,f as m,w as s,e as l,b as p,c as h,F as B,d as N,t as k,h as S,i as D}from"./index.be0e375c.js";const I={data(){return{installReqAppName:"",loading:!1,installing:!1,disableBack:"Back",appList:[{lable:"carrep",icon:"carrep.png",instaled:!1,installing:!1},{lable:"calculator",icon:"calculator.png",instaled:!1,installing:!1},{lable:"files",icon:"files.png",instaled:!1,installing:!1}]}},methods:{getAppList(){this.loading=!0,this.openDialog(),u.post("callbackDispatcher",{type:"list",content:{type:"installationList"}}).then(t=>{this.loading=!1,this.appList=[],t.forEach(e=>{this.appList.push({name:e.name,lable:e.lable,icon:e.icon,instaled:e.instaled,installing:!1})}),this.closeDialog()}).catch(t=>{console.log(t)})},installApp(t){let e=this.getAppRefByName(t);e.installing=!0,u.post("callbackDispatcher",{type:"installApp",content:{appname:t,appRef:e}}).then(o=>{console.log(o),o=="installed"?setTimeout(()=>{this.$root.showNotificationCloseOnClick({title:"keepStore",subtitle:"installation was successful"}),e.installing=!1},550):setTimeout(()=>{this.$root.showNotificationCloseOnClick({title:"keepStore",subtitle:"uninstallation was successful"}),e.installing=!1},550),this.getAppList()}).catch(o=>{e.installing=!1,console.log(o)})},openDialog(){g.dialog.preloader()},closeDialog(){setTimeout(()=>{g.dialog.close(),this.loading=!1},250)},getAppRefByName(t){for(let e=0;e<this.appList.length;e++)if(this.appList[e].name==t)return this.appList[e];return!1}}};const R={class:"app-container"},P=["src"],T={class:"appname"};function V(t,e,o,$,d,f){const b=i("f7-navbar"),c=i("f7-icon"),r=i("f7-list-item"),A=i("f7-list"),_=i("f7-col"),v=i("f7-button"),C=i("f7-block"),L=i("f7-row"),w=i("f7-page");return n(),m(w,{"onPage:beforein":f.getAppList},{default:s(()=>[l(b,{title:"About","back-link":"Back"}),l(L,null,{default:s(()=>[l(_,{width:"20"},{default:s(()=>[l(A,{"menu-list":"",inset:""},{default:s(()=>[l(r,{link:"",title:"Home",selected:t.selected==="home",onClick:e[0]||(e[0]=()=>t.selected="home")},{media:s(()=>[l(c,{md:"material:home",aurora:"f7:house_fill",ios:"f7:house_fill"})]),_:1},8,["selected"]),l(r,{link:"",title:"Profile",selected:t.selected==="profile",onClick:e[1]||(e[1]=()=>t.selected="profile")},{media:s(()=>[l(c,{md:"material:person",aurora:"f7:person_fill",ios:"f7:person_fill"})]),_:1},8,["selected"]),l(r,{link:"",title:"Settings",selected:t.selected==="settings",onClick:e[2]||(e[2]=()=>t.selected="settings")},{media:s(()=>[l(c,{md:"material:settings",aurora:"f7:gear_alt_fill",ios:"f7:gear_alt_fill"})]),_:1},8,["selected"])]),_:1})]),_:1}),l(_,{width:"80"},{default:s(()=>[d.loading==!1?(n(),m(C,{key:0},{default:s(()=>[p("div",R,[(n(!0),h(B,null,N(d.appList,a=>(n(),h("div",{class:"app",key:a.name},[p("img",{src:`./icons/${a.icon}`},null,8,P),p("div",T,k(a.lable),1),l(v,{fill:"",round:"",preloader:"",loading:a.installing,"data-tooltip":"Button tooltip text",onClick:x=>f.installApp(a.name),color:a.instaled?"red":"blue"},{default:s(()=>[S(k(a.instaled?"uninstall":"install"),1)]),_:2},1032,["loading","onClick","color"])]))),128))])]),_:1})):D("",!0)]),_:1})]),_:1})]),_:1},8,["onPage:beforein"])}var q=y(I,[["render",V],["__scopeId","data-v-3d34d5d5"]]);export{q as default};
